(()=>{"use strict";function n(n){let e=document.querySelector(`.${n}-info`);if("current"==n){let i=document.querySelector(`.${n}-header`);console.log(t);let c=t.location.localtime.slice(-5),s=document.querySelector(`.${n}-temp`),o=document.querySelector(`.${n}-conditions`);i.innerHTML=`<div class="loc-name">${t.location.name}</div>\n            <div class="loc-info"><span class="country">${t.location.country}</span>\n            <span class="region">${t.location.region}</span></div>\n            <div class="local-hour">Heure locale: <span class="local-time">${c}</span></div>`,s.innerHTML=`<div class="temp-nb">${t.current.temp_c}<span class="celsius">°C</span></div>\n            <div class="temp-line">Ressenti: <span class="felt-temp">${t.current.feelslike_c}</span><span class="celsius">°C</span></div>`,e.innerHTML=`\n            <div class="precip">Précipitations: ${t.current.precip_mm}mm</div>\n            <div class="humidity">Humidité: ${t.current.humidity}%</div>\n            <div class="wind">Vent: ${t.current.wind_kph}km/h</div>`,o.innerHTML=`<div class="conditions"><img src="https:${t.current.condition.icon}" alt="${t.current.condition.text}">\n            <span class="conditions-text">${t.current.condition.text}</span></div>`}"current"!==n&&(e.innerHTML=`<div class="mean-temp">Température moyenne: ${t[n].day.avgtemp_c}<span class="celsius">°C</span></div>\n            <div class="conditions"><img src="https:${t[n].day.condition.icon}" alt="${t[n].day.condition.text}">\n            <span class="conditions-text">${t[n].day.condition.text}</span></div>\n            <div class="wind">Vent: ${t[n].day.maxwind_kph}km/h</div>`)}function e(n,...e){return e.reduce((function(e,t){return e[t]=n[t],e}),{})}let t;async function i(i){let c=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=ed25e7b75ea847cabdb165554231711&lang=fr&days=3&q=${i}`,{mode:"cors"});const s=await c.json();let o=e(s.current,"condition","feelslike_c","humidity","precip_mm","temp_c","wind_kph"),a=e(s.location,"country","name","region","localtime"),r=s.forecast.forecastday,d=e(r[1],"date","day"),l=e(r[2],"date","day");t={current:o,location:a,tomorrow:d,"after-tomorrow":l},n("current"),n("tomorrow"),n("after-tomorrow")}const c=document.getElementById("search-form");i("paris"),c.addEventListener("submit",(n=>{n.preventDefault();const e=new FormData(n.target),t=Object.fromEntries(e.entries());0!=t["search-city"]&&i(t["search-city"])}))})();