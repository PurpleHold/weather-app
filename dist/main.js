(()=>{function e(e,...t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}const t=document.getElementById("search-form");let n;async function o(t){let o=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=ed25e7b75ea847cabdb165554231711&lang=fr&days=3&q=${t}`,{mode:"cors"});const r=await o.json();sortedCurrentData=e(r.current,"condition","feelslike_c","humidity","precip_mm","temp_c","wind_kph"),sortedLocData=e(r.location,"country","name","region","localtime"),forecastArray=r.forecast.forecastday,sortedTomorrow=e(forecastArray[1],"date","day"),sortedAfterTomorrow=e(forecastArray[2],"date","day"),n={current:sortedCurrentData,location:sortedLocData,tomorrow:sortedTomorrow,"after-tomorrow":sortedAfterTomorrow},console.log(n),c("current"),c("tomorrow"),c("after-tomorrow")}function c(e){let t=document.querySelector(`.${e}-info`);if("current"==e){let o=document.querySelector(`.${e}-header`),c=n.location.localtime.slice(-5),r=document.querySelector(`.${e}-temp`),s=document.querySelector(`.${e}-conditions`);o.innerHTML=`<div class="loc-name">${n.location.name}</div>\n            <div class="loc-info"><span class="country">${n.location.country}</span>\n            <span class="region">${n.location.region}</span></div>\n            <div class="local-hour">Heure locale: <span class="local-time">${c}</span></div>`,r.innerHTML=`<div class="temp-nb">${n.current.temp_c}<span class="celsius">°C</span></div>\n            <div class="temp-line">Ressenti: <span class="felt-temp">${n.current.feelslike_c}</span><span class="celsius">°C</span></div>`,t.innerHTML=`\n            <div class="precip">Précipitations: ${n.current.precip_mm}mm</div>\n            <div class="humidity">Humidité: ${n.current.humidity}%</div>\n            <div class="wind">Vent: ${n.current.wind_kph}km/h</div>`,s.innerHTML=`<div class="conditions"><img src="https:${n.current.condition.icon}" alt="${n.current.condition.text}">\n            <span class="conditions-text">${n.current.condition.text}</span></div>`}"current"!==e&&(t.innerHTML=`<div class="mean-temp">Température moyenne: ${n[e].day.avgtemp_c}<span class="celsius">°C</span></div>\n            <div class="conditions"><img src="https:${n[e].day.condition.icon}" alt="${n[e].day.condition.text}">\n            <span class="conditions-text">${n[e].day.condition.text}</span></div>\n            <div class="wind">Vent: ${n[e].day.maxwind_kph}km/h</div>`)}document.getElementById("seach-city"),t.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(e.target),n=Object.fromEntries(t.entries());console.log(n["search-city"]),console.log(0==n["search-city"]),0!=n["search-city"]&&o(n["search-city"])})),o("paris")})();